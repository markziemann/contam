BootStrap: docker
From: ubuntu:24.04

%post
  # Update apt-get
  apt-get update \
    && apt-get upgrade -y \
    && apt-get install -y wget git skewer samtools bwa \
    && apt-get clean \
    && rm -rf /var/lib/apt/lists/*

  # get a clone of the codes
  git clone https://github.com/markziemann/contam.git \
  && cd contam \
  && mkdir -p ~/.local/bin/ \
  && cp contam ~/.local/bin/ \
  && export PATH=$PATH:~/.local/bin/ >> ~/.bashrc


  # Set the container working directory
  DIRPATH=/contam

%environment
  export DIRPATH=/contam

%runscript
  cd $DIRPATH
  exec /bin/bash ~/.local/bin/contam "$@"

%startscript
  cd $DIRPATH

%labels
   Author Mark Ziemann
   Date 14 Oct 2024
